appId: com.proxyoda.app
productName: ProxYoda
directories:
  buildResources: assets
  output: release
files:
  - "dist/**/*"
  - "electron/**/*"
  - "package.json"
extraMetadata:
  main: electron/main.js
asar: true
asarUnpack:
  - "node_modules/ffprobe-static/**/*"

# Include MediaInfo CLI in the package (bundled, no installation needed)
extraResources:
  - from: "Dependencies/MediaInfo_CLI_25.10_Windows_x64/MediaInfo.exe"
    to: "MediaInfo/MediaInfo.exe"
  - from: "Dependencies/MediaInfo_CLI_25.10_Windows_x64/LIBCURL.DLL"
    to: "MediaInfo/LIBCURL.DLL"

win:
  target:
    - nsis
    - portable

nsis:
  oneClick: false
  perMachine: true
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: ProxYoda
  artifactName: ProxYoda-${version}-Win-x64-Setup.exe

portable:
  artifactName: ProxYoda-${version}-Win-x64-Portable.exe

publish: null

